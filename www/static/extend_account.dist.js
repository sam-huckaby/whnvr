(()=>{var d=(t,e)=>async()=>{let n=document.getElementById("otp").value,{passkeyBindingToken:o,redirectUrl:i}=await t.redeemOtp(e,n);htmx.trigger("#otp_completion_form","completeOTP",{passkeyBindingToken:o})};window.byndid.initialized.then(async t=>{let e=document.getElementById("email").value,n=document.getElementById("state").value,o=`https://auth-us.beyondidentity.com/v1/tenants/${window.config.tenantId}/realms/${window.config.realmId}/applications/${window.config.appId}/authorize?response_type=code&client_id=${window.config.clientId}&redirect_uri=${window.config.redirectURI}&scope=openid&state=${n}`,i=await fetch(o,{method:"GET"}),{authenticate_url:c}=await i.json(),{url:a}=await t.authenticateOtp(c,e);document.getElementById("otp_url").setAttribute("value",a),document.getElementById("verify_button").onclick=d(t,a)});})();
