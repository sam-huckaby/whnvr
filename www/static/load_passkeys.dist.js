(()=>{window.byndid.initialized.then(async i=>{let n=await i.getPasskeys();htmx.remove(htmx.find("#passkey_loader"));let r=document.getElementById("passkey_container");if(n.length===0){htmx.remove(htmx.find("#delete_passkey_link"));let t=document.createElement("div");t.setAttribute("class","text-base w-full p-4 lg:p-2 mb-2 flex flex-col justify-center items-center rounded border-2 lg:border border-solid border-whnvr-500");let s=document.createElement("span");s.setAttribute("class","my-2 italic font-bold"),s.innerText="No Passkeys Found",t.append(s),r.append(t);return}n.length>4&&(r.classList.add("border-b"),r.classList.add("border-b-whnvr-900"),r.classList.add("dark:border-b-whnvr-100"));for(let t of n){let s=document.createElement("span");s.setAttribute("class","text-xl"),s.innerText=t.identity.displayName;let a=document.createElement("span");a.setAttribute("class","text-base text-whnvr-500 dark:text-whnvr-400"),a.innerText=t.identity.primaryEmailAddress??"No Email Provided";let e=document.createElement("button");e.setAttribute("id","passkey-"+t.id),e.setAttribute("class","w-full p-2 mb-8 lg:mb-2 flex flex-col justify-center items-center lg:items-start rounded border-2 lg:border border-solid border-whnvr-500 ease-in duration-200 hover:dark:bg-whnvr-950/75 hover:bg-whnvr-300/50"),e.setAttribute("hx-get",`/authenticate?id=${t.id}`),e.setAttribute("hx-trigger","click"),e.setAttribute("hx-target","#passkey_container"),e.setAttribute("hx-swap","outerHTML"),htmx.process(e),e.append(s),e.append(a),r.append(e)}});})();
